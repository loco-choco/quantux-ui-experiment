[gd_scene load_steps=6 format=3 uid="uid://dg2eoqojt8v1"]

[ext_resource type="Script" uid="uid://dqcm57s62snqt" path="res://scripts/main.gd" id="1_o5qli"]
[ext_resource type="PackedScene" uid="uid://ct5lh45t375b1" path="res://scenes/world.tscn" id="2_0wfyh"]
[ext_resource type="PackedScene" uid="uid://d0x0cwmmnybk3" path="res://scenes/mainmenu/pre_game_questionaire.tscn" id="3_sugp2"]

[sub_resource type="LabelSettings" id="LabelSettings_tefeu"]
font_size = 12

[sub_resource type="StyleBoxEmpty" id="StyleBoxEmpty_tefeu"]

[node name="Main" type="Node2D"]
script = ExtResource("1_o5qli")
regular_world = ExtResource("2_0wfyh")
metadata/_edit_vertical_guides_ = [971.0, -288.0, 1027.0]
metadata/_edit_horizontal_guides_ = [586.0, -107.0]

[node name="MainMenuCanvas" type="CanvasLayer" parent="."]
process_mode = 3

[node name="MainMenu" type="PanelContainer" parent="MainMenuCanvas"]
unique_name_in_owner = true
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2

[node name="MarginContainer" type="MarginContainer" parent="MainMenuCanvas/MainMenu"]
layout_mode = 2
theme_override_constants/margin_left = 10
theme_override_constants/margin_top = 10
theme_override_constants/margin_right = 10
theme_override_constants/margin_bottom = 10

[node name="VBoxContainer" type="VBoxContainer" parent="MainMenuCanvas/MainMenu/MarginContainer"]
layout_mode = 2

[node name="MarginContainer2" type="MarginContainer" parent="MainMenuCanvas/MainMenu/MarginContainer/VBoxContainer"]
layout_mode = 2
theme_override_constants/margin_left = 150
theme_override_constants/margin_right = 150

[node name="VBoxContainer" type="VBoxContainer" parent="MainMenuCanvas/MainMenu/MarginContainer/VBoxContainer/MarginContainer2"]
layout_mode = 2

[node name="Title" type="Label" parent="MainMenuCanvas/MainMenu/MarginContainer/VBoxContainer/MarginContainer2/VBoxContainer"]
layout_mode = 2
text = "Quant UX Inventory Experiement"
horizontal_alignment = 1

[node name="Description" type="Label" parent="MainMenuCanvas/MainMenu/MarginContainer/VBoxContainer/MarginContainer2/VBoxContainer"]
custom_minimum_size = Vector2(100, 0)
layout_mode = 2
text = "This is a game for the research project from the class Quant UX (HSS_0EL42) from Telecom Paris. In it, the user (you) is tasked to play the game as you seem fit. Metrics will be colected during the gameplay, as described in the document linked bellow. If you agree to share it for the research project, enable the data colection option bellow, otherwise it won't be stored."
label_settings = SubResource("LabelSettings_tefeu")
horizontal_alignment = 1
autowrap_mode = 2

[node name="HSeparator" type="HSeparator" parent="MainMenuCanvas/MainMenu/MarginContainer/VBoxContainer"]
layout_mode = 2
theme_override_constants/separation = 100
theme_override_styles/separator = SubResource("StyleBoxEmpty_tefeu")

[node name="MarginContainer" type="MarginContainer" parent="MainMenuCanvas/MainMenu/MarginContainer/VBoxContainer"]
layout_mode = 2
theme_override_constants/margin_left = 200
theme_override_constants/margin_right = 200

[node name="VBoxContainer" type="VBoxContainer" parent="MainMenuCanvas/MainMenu/MarginContainer/VBoxContainer/MarginContainer"]
layout_mode = 2

[node name="EnableDataCollection" type="CheckButton" parent="MainMenuCanvas/MainMenu/MarginContainer/VBoxContainer/MarginContainer/VBoxContainer"]
layout_mode = 2
text = "Enable Data Collection"

[node name="DataCollectionDocument" type="Button" parent="MainMenuCanvas/MainMenu/MarginContainer/VBoxContainer/MarginContainer/VBoxContainer"]
layout_mode = 2
text = "Open Data Collection Document"

[node name="PrePlayingQuestionnaire" type="Button" parent="MainMenuCanvas/MainMenu/MarginContainer/VBoxContainer/MarginContainer/VBoxContainer"]
layout_mode = 2
text = "Open Pre Game Questionnaire"

[node name="OpenTutorial" type="Button" parent="MainMenuCanvas/MainMenu/MarginContainer/VBoxContainer/MarginContainer/VBoxContainer"]
layout_mode = 2
text = "Open Tutorial"

[node name="StartGame" type="Button" parent="MainMenuCanvas/MainMenu/MarginContainer/VBoxContainer/MarginContainer/VBoxContainer"]
layout_mode = 2
text = "Start Game"

[node name="PrePlayingQuestionaire2" type="Button" parent="MainMenuCanvas/MainMenu/MarginContainer/VBoxContainer/MarginContainer/VBoxContainer"]
layout_mode = 2
text = "Open Post Playing Questionaire"

[node name="ExportData" type="Button" parent="MainMenuCanvas/MainMenu/MarginContainer/VBoxContainer/MarginContainer/VBoxContainer"]
layout_mode = 2
text = "Export Collected Data"

[node name="RoundSumary" type="PanelContainer" parent="MainMenuCanvas"]
unique_name_in_owner = true
visible = false
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2

[node name="MarginContainer" type="MarginContainer" parent="MainMenuCanvas/RoundSumary"]
layout_mode = 2
theme_override_constants/margin_left = 10
theme_override_constants/margin_top = 10
theme_override_constants/margin_right = 10
theme_override_constants/margin_bottom = 10

[node name="CenterContainer" type="CenterContainer" parent="MainMenuCanvas/RoundSumary/MarginContainer"]
layout_mode = 2

[node name="VBoxContainer" type="VBoxContainer" parent="MainMenuCanvas/RoundSumary/MarginContainer/CenterContainer"]
layout_mode = 2

[node name="MarginContainer" type="MarginContainer" parent="MainMenuCanvas/RoundSumary/MarginContainer/CenterContainer/VBoxContainer"]
layout_mode = 2
theme_override_constants/margin_left = 200
theme_override_constants/margin_right = 200

[node name="VBoxContainer" type="VBoxContainer" parent="MainMenuCanvas/RoundSumary/MarginContainer/CenterContainer/VBoxContainer/MarginContainer"]
layout_mode = 2

[node name="GameOver" type="Label" parent="MainMenuCanvas/RoundSumary/MarginContainer/CenterContainer/VBoxContainer/MarginContainer/VBoxContainer"]
unique_name_in_owner = true
layout_mode = 2
text = "You died!
Game Over!"
horizontal_alignment = 1

[node name="GameWon" type="VBoxContainer" parent="MainMenuCanvas/RoundSumary/MarginContainer/CenterContainer/VBoxContainer/MarginContainer/VBoxContainer"]
unique_name_in_owner = true
layout_mode = 2

[node name="TextAbove" type="Label" parent="MainMenuCanvas/RoundSumary/MarginContainer/CenterContainer/VBoxContainer/MarginContainer/VBoxContainer/GameWon"]
layout_mode = 2
text = "You won with"
horizontal_alignment = 1

[node name="Score" type="Label" parent="MainMenuCanvas/RoundSumary/MarginContainer/CenterContainer/VBoxContainer/MarginContainer/VBoxContainer/GameWon"]
unique_name_in_owner = true
layout_mode = 2
text = "100"
horizontal_alignment = 1

[node name="TextBellow" type="Label" parent="MainMenuCanvas/RoundSumary/MarginContainer/CenterContainer/VBoxContainer/MarginContainer/VBoxContainer/GameWon"]
layout_mode = 2
text = "points!"
horizontal_alignment = 1

[node name="Return" type="Button" parent="MainMenuCanvas/RoundSumary/MarginContainer/CenterContainer/VBoxContainer/MarginContainer/VBoxContainer"]
layout_mode = 2
text = "Return to Menu"

[node name="Tutorial" type="PanelContainer" parent="MainMenuCanvas"]
unique_name_in_owner = true
visible = false
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2

[node name="MarginContainer" type="MarginContainer" parent="MainMenuCanvas/Tutorial"]
layout_mode = 2
theme_override_constants/margin_left = 10
theme_override_constants/margin_top = 10
theme_override_constants/margin_right = 10
theme_override_constants/margin_bottom = 10

[node name="CenterContainer" type="CenterContainer" parent="MainMenuCanvas/Tutorial/MarginContainer"]
layout_mode = 2

[node name="VBoxContainer" type="VBoxContainer" parent="MainMenuCanvas/Tutorial/MarginContainer/CenterContainer"]
layout_mode = 2

[node name="MarginContainer" type="MarginContainer" parent="MainMenuCanvas/Tutorial/MarginContainer/CenterContainer/VBoxContainer"]
layout_mode = 2
theme_override_constants/margin_left = 200
theme_override_constants/margin_right = 200

[node name="VBoxContainer" type="VBoxContainer" parent="MainMenuCanvas/Tutorial/MarginContainer/CenterContainer/VBoxContainer/MarginContainer"]
layout_mode = 2

[node name="GameOver" type="Label" parent="MainMenuCanvas/Tutorial/MarginContainer/CenterContainer/VBoxContainer/MarginContainer/VBoxContainer"]
layout_mode = 2
text = "You died!
Game Over!"
horizontal_alignment = 1

[node name="GameWon" type="VBoxContainer" parent="MainMenuCanvas/Tutorial/MarginContainer/CenterContainer/VBoxContainer/MarginContainer/VBoxContainer"]
layout_mode = 2

[node name="TextAbove" type="Label" parent="MainMenuCanvas/Tutorial/MarginContainer/CenterContainer/VBoxContainer/MarginContainer/VBoxContainer/GameWon"]
layout_mode = 2
text = "You won with"
horizontal_alignment = 1

[node name="Score" type="Label" parent="MainMenuCanvas/Tutorial/MarginContainer/CenterContainer/VBoxContainer/MarginContainer/VBoxContainer/GameWon"]
layout_mode = 2
text = "100"
horizontal_alignment = 1

[node name="TextBellow" type="Label" parent="MainMenuCanvas/Tutorial/MarginContainer/CenterContainer/VBoxContainer/MarginContainer/VBoxContainer/GameWon"]
layout_mode = 2
text = "points!"
horizontal_alignment = 1

[node name="Return" type="Button" parent="MainMenuCanvas/Tutorial/MarginContainer/CenterContainer/VBoxContainer/MarginContainer/VBoxContainer"]
layout_mode = 2
text = "Return to Menu"

[node name="PreGameQuestionnaire" parent="MainMenuCanvas" instance=ExtResource("3_sugp2")]
unique_name_in_owner = true
visible = false

[connection signal="toggled" from="MainMenuCanvas/MainMenu/MarginContainer/VBoxContainer/MarginContainer/VBoxContainer/EnableDataCollection" to="." method="_on_enable_data_collection_toggled"]
[connection signal="pressed" from="MainMenuCanvas/MainMenu/MarginContainer/VBoxContainer/MarginContainer/VBoxContainer/PrePlayingQuestionnaire" to="." method="_on_start_pregame_quest"]
[connection signal="pressed" from="MainMenuCanvas/MainMenu/MarginContainer/VBoxContainer/MarginContainer/VBoxContainer/StartGame" to="." method="_on_start_game_pressed"]
[connection signal="pressed" from="MainMenuCanvas/MainMenu/MarginContainer/VBoxContainer/MarginContainer/VBoxContainer/ExportData" to="." method="_on_export_data_pressed"]
[connection signal="pressed" from="MainMenuCanvas/RoundSumary/MarginContainer/CenterContainer/VBoxContainer/MarginContainer/VBoxContainer/Return" to="." method="_on_return_pressed"]
[connection signal="pressed" from="MainMenuCanvas/Tutorial/MarginContainer/CenterContainer/VBoxContainer/MarginContainer/VBoxContainer/Return" to="." method="_on_return_pressed"]
